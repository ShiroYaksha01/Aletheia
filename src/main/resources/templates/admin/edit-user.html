<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/index}">
<head>
    <title>Edit User</title>
</head>
<body>

    <div layout:fragment="content">
        
        <div class="mb-8">
            <div class="flex items-center gap-4 mb-4">
                <a href="/admin/users" class="p-2 text-gray-400 hover:text-white transition-colors">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </a>
                <div>
                    <h1 class="text-2xl font-bold text-white">Edit User</h1>
                    <p class="text-gray-400">Modify user information and role</p>
                </div>
            </div>
        </div>

        <!-- Success/Error Messages -->
        <div th:if="${success}" class="mb-4 p-4 bg-green-500/10 border border-green-500/20 rounded-lg text-green-400">
            <span th:text="${success}"></span>
        </div>
        <div th:if="${error}" class="mb-4 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400">
            <span th:text="${error}"></span>
        </div>

        <div class="glass-card rounded-xl p-6">
            <form th:action="@{/admin/users/{id}/edit(id=${user.id})}" method="post">
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    
                    <!-- First Name -->
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">First Name</label>
                        <input type="text" name="firstName" th:value="${user.firstName}" required
                               class="w-full px-3 py-2 bg-[#020817] border border-gray-800 rounded-md text-white focus:ring-1 focus:ring-teal-500 outline-none">
                    </div>
                    
                    <!-- Last Name -->
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Last Name</label>
                        <input type="text" name="lastName" th:value="${user.lastName}" required
                               class="w-full px-3 py-2 bg-[#020817] border border-gray-800 rounded-md text-white focus:ring-1 focus:ring-teal-500 outline-none">
                    </div>
                    
                </div>
                
                <div class="mb-6">
                    <!-- Email -->
                    <label class="block text-sm font-medium text-gray-300 mb-2">Email</label>
                    <input type="email" name="email" th:value="${user.email}" required
                           class="w-full px-3 py-2 bg-[#020817] border border-gray-800 rounded-md text-white focus:ring-1 focus:ring-teal-500 outline-none">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    
                    <!-- Role -->
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Role</label>
                        <select name="role" required
                                class="w-full px-3 py-2 bg-[#020817] border border-gray-800 rounded-md text-white focus:ring-1 focus:ring-teal-500 outline-none">
                            <option th:each="role : ${availableRoles}" 
                                    th:value="${role}" 
                                    th:text="${role}"
                                    th:selected="${role == user.role}">ADMIN</option>
                        </select>
                    </div>
                    
                    <!-- Status -->
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Status</label>
                        <select name="active"
                                class="w-full px-3 py-2 bg-[#020817] border border-gray-800 rounded-md text-white focus:ring-1 focus:ring-teal-500 outline-none">
                            <option value="true" th:selected="${user.active}">Active</option>
                            <option value="false" th:selected="${!user.active}">Inactive</option>
                        </select>
                    </div>
                    
                </div>
                
                <div class="flex gap-4">
                    <button type="submit" 
                            class="px-6 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 transition-colors font-medium">
                        Save Changes
                    </button>
                    <a href="/admin/users" 
                       class="px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors font-medium">
                        Cancel
                    </a>
                </div>
                
            </form>
        </div>

    </div>

</body>
</html>
